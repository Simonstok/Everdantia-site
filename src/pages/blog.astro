---
import layout from '../layouts/layout.astro';

const blogPosts = [
  {
    title: "Welcome to Everdantia",
    date: "2025-01-15",
    slug: "welcome-to-everdantia",
    excerpt: "Discover the magical world where digital nature meets real conservation efforts. Step into a realm where every pixel tells a story of growth, wonder, and environmental hope.",
    content: "Welcome to Everdantia, where each NFT represents more than just digital art...",
    image: "/images/environment/everdantia-glade/everdantia-glade-tranquil-magical-forest.jpg",
    category: "Community",
    readTime: "3 min read",
    featured: true
  },
  {
    title: "The Genesis Collection Unveiled",
    date: "2025-01-10", 
    slug: "genesis-collection-unveiled",
    excerpt: "Meet the founding trees that will shape our enchanted forest realm. Each guardian holds secrets of ancient magic and promises of future growth.",
    content: "Our Genesis Collection features 100 unique trees, each with its own story...",
    image: "/images/environment/founding-grove/sacred-grove-monumental-fantasy-trees.jpg",
    category: "Collection",
    readTime: "5 min read",
    featured: false
  },
  {
    title: "Conservation Through Innovation",
    date: "2025-01-05",
    slug: "conservation-through-innovation", 
    excerpt: "How blockchain technology helps us support real-world reforestation. Innovation meets nature in our mission to heal the planet.",
    content: "Every Everdantia NFT purchase contributes to real forest conservation...",
    image: "/images/environment/forest-sanctuary/forest-shrine-roots.jpg",
    category: "Conservation",
    readTime: "4 min read",
    featured: false
  }
];
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon.svg" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		
		<title>Blog - Everdantia</title>
		<meta name="description" content="Read the latest updates from Everdantia - digital forest conservation through NFTs." />
		
		<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Inter:wght@400;500&display=swap" rel="stylesheet" />
		
		<style>
			* {
				margin: 0;
				padding: 0;
				box-sizing: border-box;
			}

			body {
				font-family: 'Inter', sans-serif;
				background: #0c1c10;
				color: #4d6b3c;
				line-height: 1.6;
				min-height: 100vh;
				position: relative;
			}

			body::before {
				content: '';
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: url('/images/background/hilltop/hilltop1.jpg');
				background-size: cover;
				background-position: center;
				background-attachment: fixed;
				opacity: 0.4;
				z-index: -2;
			}

			body::after {
				content: '';
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: linear-gradient(135deg, rgba(12,28,16,0.8) 0%, rgba(45,74,53,0.9) 50%, rgba(12,28,16,0.8) 100%);
				z-index: -1;
			}

			.hero-section {
				position: relative;
				background: transparent;
				color: white;
				padding: 8rem 2rem 6rem;
				text-align: center;
				overflow: hidden;
			}

			.hero-section::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: rgba(0,0,0,0.3);
				backdrop-filter: blur(2px);
				z-index: 0;
			}

			.hero-content {
				position: relative;
				z-index: 1;
				max-width: 800px;
				margin: 0 auto;
			}

			.hero-section h1 {
				font-family: 'Cormorant Garamond', serif;
				font-size: clamp(2.5rem, 6vw, 4rem);
				font-weight: 700;
				margin-bottom: 1rem;
				text-shadow: 0 2px 20px rgba(0,0,0,0.3);
			}

			.hero-section p {
				font-size: 1.2rem;
				color: rgba(255,255,255,0.9);
				margin-bottom: 2rem;
			}

			.container {
				max-width: 1200px;
				margin: 0 auto;
				padding: 4rem 2rem;
				position: relative;
				z-index: 1;
			}

			.nav-back {
				position: absolute;
				top: 2rem;
				left: 2rem;
				display: inline-flex;
				align-items: center;
				gap: 0.5rem;
				color: white;
				text-decoration: none;
				font-weight: 500;
				transition: all 0.3s ease;
				z-index: 2;
				background: rgba(255,255,255,0.1);
				padding: 0.75rem 1.5rem;
				border-radius: 2rem;
				backdrop-filter: blur(10px);
			}

			.nav-back:hover {
				background: rgba(255,255,255,0.2);
				transform: translateX(-5px);
			}

			.featured-post {
				margin-bottom: 4rem;
			}

			.featured-card {
				background: rgba(255,255,255,0.95);
				border-radius: 2rem;
				overflow: hidden;
				box-shadow: 0 20px 60px rgba(0,0,0,0.4);
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
				position: relative;
				backdrop-filter: blur(20px);
				border: 1px solid rgba(255,255,255,0.2);
			}

			.featured-card::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: linear-gradient(45deg, rgba(139,171,93,0.15), rgba(107,79,42,0.15));
				opacity: 0;
				transition: opacity 0.3s ease;
				z-index: 1;
			}

			.featured-card:hover::before {
				opacity: 1;
			}

			.featured-card:hover {
				transform: translateY(-10px);
				box-shadow: 0 30px 80px rgba(0,0,0,0.6);
			}

			.featured-image {
				height: 400px;
				position: relative;
				overflow: hidden;
			}

			.featured-image img {
				width: 100%;
				height: 100%;
				object-fit: cover;
				transition: transform 0.4s ease;
			}

			.featured-card:hover .featured-image img {
				transform: scale(1.05);
			}

			.featured-badge {
				position: absolute;
				top: 1.5rem;
				left: 1.5rem;
				background: linear-gradient(135deg, #8bab5d, #6b4f2a);
				color: white;
				padding: 0.5rem 1.5rem;
				border-radius: 2rem;
				font-size: 0.85rem;
				font-weight: 600;
				text-transform: uppercase;
				letter-spacing: 0.05em;
				z-index: 2;
			}

			.featured-content {
				padding: 3rem;
				position: relative;
				z-index: 2;
			}

			.post-meta {
				display: flex;
				align-items: center;
				gap: 1rem;
				margin-bottom: 1rem;
				font-size: 0.9rem;
				color: #8bab5d;
			}

			.category-tag {
				background: rgba(139,171,93,0.1);
				color: #6b4f2a;
				padding: 0.25rem 0.75rem;
				border-radius: 1rem;
				font-size: 0.8rem;
				font-weight: 500;
			}

			.featured-content h2 {
				font-family: 'Cormorant Garamond', serif;
				font-size: 2.25rem;
				color: #6b4f2a;
				margin-bottom: 1rem;
				line-height: 1.2;
			}

			.featured-content .excerpt {
				color: #4d6b3c;
				font-size: 1.1rem;
				margin-bottom: 2rem;
				line-height: 1.6;
			}

			.read-more {
				display: inline-flex;
				align-items: center;
				gap: 0.5rem;
				color: #8bab5d;
				text-decoration: none;
				font-weight: 600;
				font-size: 1rem;
				transition: all 0.3s ease;
				text-transform: uppercase;
				letter-spacing: 0.05em;
			}

			.read-more:hover {
				color: #6b4f2a;
				transform: translateX(5px);
			}

			.posts-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
				gap: 2rem;
			}

			.blog-post {
				background: rgba(255,255,255,0.9);
				border-radius: 1.5rem;
				overflow: hidden;
				box-shadow: 0 8px 32px rgba(0,0,0,0.3);
				transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
				position: relative;
				backdrop-filter: blur(15px);
				border: 1px solid rgba(255,255,255,0.2);
			}

			.blog-post:hover {
				transform: translateY(-8px);
				box-shadow: 0 20px 60px rgba(0,0,0,0.5);
			}

			.post-image {
				height: 250px;
				position: relative;
				overflow: hidden;
			}

			.post-image img {
				width: 100%;
				height: 100%;
				object-fit: cover;
				transition: transform 0.4s ease;
			}

			.blog-post:hover .post-image img {
				transform: scale(1.05);
			}

			.post-content {
				padding: 2rem;
			}

			.post-content h3 {
				font-family: 'Cormorant Garamond', serif;
				font-size: 1.5rem;
				color: #6b4f2a;
				margin-bottom: 0.75rem;
				line-height: 1.3;
			}

			.post-content .excerpt {
				color: #4d6b3c;
				margin-bottom: 1.5rem;
				line-height: 1.6;
			}

			.fade-in {
				opacity: 0;
				transform: translateY(30px);
				transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
			}

			.fade-in.visible {
				opacity: 1;
				transform: translateY(0);
			}

			@media (max-width: 768px) {
				.hero-section {
					padding: 4rem 1rem 3rem;
				}
				
				.container {
					padding: 2rem 1rem;
				}
				
				.posts-grid {
					grid-template-columns: 1fr;
				}
				
				.featured-content {
					padding: 2rem;
				}
				
				.nav-back {
					top: 1rem;
					left: 1rem;
					padding: 0.5rem 1rem;
				}
			}
		</style>
	</head>
	<body>
		<section class="hero-section">
			<a href="/" class="nav-back">
				← Back to Home
			</a>
			
			<div class="hero-content">
				<h1>Tales from Everdantia</h1>
				<p>Journey through stories of magic, nature, and digital conservation</p>
			</div>
		</section>

		<div class="container">
			<!-- Featured Post -->
			{blogPosts.filter(post => post.featured).map(post => (
				<section class="featured-post fade-in">
					<article class="featured-card">
						<div class="featured-image">
							<img src={post.image} alt={post.title} loading="eager" />
							<div class="featured-badge">Featured</div>
						</div>
						<div class="featured-content">
							<div class="post-meta">
								<span class="category-tag">{post.category}</span>
								<span>•</span>
								<span>{new Date(post.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</span>
								<span>•</span>
								<span>{post.readTime}</span>
							</div>
							<h2>{post.title}</h2>
							<p class="excerpt">{post.excerpt}</p>
							<a href={`/blog/${post.slug}`} class="read-more">
								Continue Reading
								<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
									<path d="M5 12h14M12 5l7 7-7 7"/>
								</svg>
							</a>
						</div>
					</article>
				</section>
			))}

			<!-- Other Posts -->
			<section class="posts-grid fade-in">
				{blogPosts.filter(post => !post.featured).map((post, index) => (
					<article class="blog-post" style={`animation-delay: ${index * 0.1}s`}>
						<div class="post-image">
							<img src={post.image} alt={post.title} loading="lazy" />
						</div>
						<div class="post-content">
							<div class="post-meta">
								<span class="category-tag">{post.category}</span>
								<span>•</span>
								<span>{new Date(post.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</span>
								<span>•</span>
								<span>{post.readTime}</span>
							</div>
							<h3>{post.title}</h3>
							<p class="excerpt">{post.excerpt}</p>
							<a href={`/blog/${post.slug}`} class="read-more">
								Read More
								<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
									<path d="M5 12h14M12 5l7 7-7 7"/>
								</svg>
							</a>
						</div>
					</article>
				))}
			</section>
		</div>

		<script>
			// Scroll-based animations
			const observerOptions = {
				threshold: 0.1,
				rootMargin: '0px 0px -50px 0px'
			};

			const observer = new IntersectionObserver((entries) => {
				entries.forEach(entry => {
					if (entry.isIntersecting) {
						entry.target.classList.add('visible');
					}
				});
			}, observerOptions);

			// Observe all fade-in elements
			document.querySelectorAll('.fade-in').forEach(el => {
				observer.observe(el);
			});

			// Image lazy loading
			document.querySelectorAll('img[loading="lazy"]').forEach(img => {
				img.addEventListener('load', () => {
					img.style.opacity = '1';
				});
			});

			// Create floating particles
			function createParticle() {
				const particle = document.createElement('div');
				particle.style.cssText = `
					position: fixed;
					width: 3px;
					height: 3px;
					background: rgba(139,171,93,0.6);
					border-radius: 50%;
					pointer-events: none;
					z-index: 0;
					animation: float ${15 + Math.random() * 10}s infinite linear;
					left: ${Math.random() * 100}vw;
					top: 100vh;
				`;
				
				const style = document.createElement('style');
				style.textContent = `
					@keyframes float {
						0% {
							transform: translateY(0) translateX(0) rotate(0deg);
							opacity: 0;
						}
						10% {
							opacity: 0.6;
						}
						90% {
							opacity: 0.6;
						}
						100% {
							transform: translateY(-100vh) translateX(${(Math.random() - 0.5) * 200}px) rotate(360deg);
							opacity: 0;
						}
					}
				`;
				document.head.appendChild(style);
				document.body.appendChild(particle);
				
				setTimeout(() => {
					particle.remove();
					style.remove();
				}, 25000);
			}

			// Create particles periodically
			setInterval(createParticle, 3000);
			
			// Create initial particles
			for (let i = 0; i < 5; i++) {
				setTimeout(createParticle, i * 1000);
			}
		</script>
	</body>
</html>
</Layout>